{"version":3,"sources":["ErddapClient.js","components/MultiSelectSort.js","components/FieldFilter.js","components/FieldFilters.js","components/ResultsTable.js","components/TabledapFormats.js","components/DataAccessForm.js","components/Erddap.js","components/Erddaps.js","App.js","serviceWorker.js","index.js"],"names":["jsonp","require","ErddapClient","url","this","base_url","replace","_datasets","fetchJsonp","callbackName","options","param","name","Promise","resolve","reject","err","data","prototype","fetchAwesomeErddaps","search","query","page","itemsPerPage","timeout","urlParams","URLSearchParams","set","toString","then","e2o","listDatasets","datasets","length","map","ds","sort","keys","table","columnNames","results","rows","forEach","row","result","i","push","time_encoder","value","istabledap","Date","toISOString2","m","e","ErddapDataset","erddap","dsid","dataset_id","subsets","_fetchMetadata","Error","bind","summary","_summary","response","obj","type","info","param_encoder","dataset","_fieldnames","_type","subsetVariables","attribute","NC_GLOBAL","split","x","trim","wanted","dimvar","key","dimensions","etype","evalue","v","isNaN","id","time_dimension","lat_dimension","lon_dimension","dimension","encode","variable","constraint","encoded_value","_meta","variables","fetchMetadata","prepareSubset","undefined","fetchData","o","getDataUrl","formatExtension","dap","SortableMultiValue","SortableElement","props","innerProps","onMouseDown","preventDefault","stopPropagation","MultiValue","SortableSelect","SortableContainer","Select","MultiSelectSort","selected","onChange","placeholder","axis","onSortEnd","array","from","to","oldIndex","newIndex","selectedVariables","slice","splice","distance","getHelperDimensions","node","getBoundingClientRect","isMulti","components","closeMenuOnSelect","noOptionsMessage","React","Component","ItemTextField","operation","onValueAssigned","metadata","label","filterkv","useState","setvalue","event","val","reason","assigned","target","FormControl","component","margin","FormLabel","MenuItem","option","TextField","variant","ItemTimeField","absoluteOrRelative","setAbsoluteOrRelative","now","setNow","timeUnits","setTimeUnits","timeQuantity","setTimeQuantity","setBadDateFormat","selectedDate","setSelectedDate","onAbsoluteTimeChanged","date","isodate","toISOString","substring","labelId","FormGroup","InputProps","inputProps","min","parseInt","ampm","onError","console","log","format","ItemFilter","datatype","filters","FieldFilterSelect","FieldFilter","setVariable","filterop","setFilterop","onVariableSelected","FieldFilters","Math","random","setFilters","onFiltersChanged","addFilter","filter","deleteFilter","filters2","uri_component","f","Fragment","idx","icon","deleteThisFilter","onThisValueAssigned","IconButton","onClick","Box","display","ResultsTable","Typography","gutterBottom","TableContainer","Paper","Table","size","aria-label","TableHead","TableRow","TableCell","TableBody","k","QueryConstructorForm","state","setSelected","setState","indexOf","prevProps","field","QueryLink","setFormat","TabledapFormats","parts","join","displayparts","encodeURIComponent","uri_display","href","DataAccessForm","queryno","newqueryno","onDataFetched","catch","noDataFetched","debounce","Erddap","server","onDatasetChanged","choose","erddapClient","Erddaps","awesomeErddaps","setAwesomErddaps","erddapUrl","setErddapUrl","fetchedAwesomErddaps","setFetchedAwesomeErddaps","protocol","window","location","useEffect","a","public","startsWith","short_name","App","CssBaseline","Container","utils","DateFnsUtils","className","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.31e38ef8.chunk.js","sourcesContent":["const jsonp = require('jsonp');\r\nvar ErddapClient = function(url){\r\n\turl = url || \"https://coastwatch.pfeg.noaa.gov/erddap/\";\r\n\tthis.base_url = url.replace(/\\/+$/, \"\");\r\n\tthis._datasets = {};\r\n}\r\nconst fetchJsonp = function(url,callbackName){\r\n\tconst options = {param: \".jsonp\"};\r\n\tif(callbackName){\r\n\t\toptions.name = callbackName;\r\n\t}\r\n\treturn new Promise((resolve,reject) => {\r\n\t\tjsonp(url, options,\r\n\t\t\t(err,data)=>{\r\n\t\t\t\tif(err){\r\n\t\t\t\t\treject(err);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tresolve(data);\r\n\t\t\t\t}\r\n\t\t\t});\r\n  \t});\r\n}\r\nErddapClient.prototype.fetchAwesomeErddaps = function(){\r\n\treturn fetchJsonp(\"https://irishmarineinstitute.github.io/awesome-erddap/erddaps.jsonp\",\"awesomeErddapsCb\");\r\n}\r\nErddapClient.prototype.search = function(query,page,itemsPerPage,timeout){\r\n\tpage = page || 1;\r\n\titemsPerPage = itemsPerPage  || 10000;\r\n\ttimeout = 5000;\r\n\tvar url = this.base_url + \"/search/index.json?\";\r\n\tvar urlParams = new URLSearchParams(\"?\");\r\n\turlParams.set(\"searchFor\",query);\r\n\turlParams.set(\"page\",page);\r\n\turlParams.set(\"itemsPerPage\",itemsPerPage);\r\n\treturn fetchJsonp(url + urlParams.toString()).then(e2o);\r\n}\r\n\r\nErddapClient.prototype.listDatasets = function(){\r\n\treturn this.search(\"tabledap\").then(function(datasets){\r\n\t\tif(datasets && datasets.length){\r\n\t\t\treturn datasets.map((ds)=>ds[\"Dataset ID\"]).sort();\r\n\t\t}\r\n\t\treturn [];\r\n\t\t});\r\n}\r\n\r\nvar e2o = function(data){\r\n\tvar keys = data.table.columnNames;\r\n\tvar results = [];\r\n\tdata.table.rows.forEach(function(row){\r\n\t\tvar result = [];\r\n\t\tfor(var i=0;i<keys.length;i++){\r\n\t\t\tresult[keys[i]] = row[i];\r\n\t\t}\r\n\t\tresults.push(result);\r\n\t});\r\n\treturn results;\r\n};\r\n/*\r\nvar nc_global2o = function(results){\r\n\tvar info = {};\r\n\tresults.forEach(function(x){\r\n\t\tif(x[\"Variable Name\"] === \"NC_GLOBAL\"){\r\n\t\t\tinfo[x[\"Attribute Name\"]] = x.Value;\r\n\t\t}\r\n\t})\r\n\treturn info;\r\n}\r\n*/\r\nvar time_encoder = function(value,istabledap) {\r\n  if(value instanceof Date){\r\n    return istabledap ? value.toISOString2() : (\"(\"+value.toISOString2()+\")\");\r\n  }\r\n  try {\r\n    var m = new Date(value).toISOString2();\r\n     return istabledap? m : (\"(\"+m+\")\");\r\n  } catch (e) {\r\n    return value;\r\n  }\r\n}\r\nvar ErddapDataset = function(erddap,dsid){\r\n\tthis.erddap = erddap;\r\n\tthis.dataset_id = dsid;\r\n\tthis.subsets = {};\r\n\tthis._fetchMetadata =   this.erddap.search(\"datasetID=\" + this.dataset_id).then(function(data){\r\n\t      for(var i=0;i<data.length;i++){\r\n\t        if(data[i][\"Dataset ID\"] === this.dataset_id){\r\n\t          return data[i];\r\n\t        }\r\n\t      }\r\n\t      throw new Error(\"Unknown dataset: [\"+dsid+\"]\");\r\n\t    }.bind(this)).then(function(summary){\r\n\t      this._summary = summary;\r\n\t      var url = this.erddap.base_url + \"/info/\" + this.dataset_id + \"/index.json\";\r\n\t      return fetchJsonp(url).then(function(response) { // TODO: handle error\r\n\t    var obj = {};\r\n\t    for (var i = 0; i < response.table.rows.length; i++) {\r\n\t      var row = response.table.rows[i];\r\n\t      obj[row[0]] = obj[row[0]] || {};\r\n\t      obj[row[0]][row[1]] = obj[row[0]][row[1]] || {};\r\n\t      obj[row[0]][row[1]][row[2]] = obj[row[0]][row[1]][row[2]] || {};\r\n\t      obj[row[0]][row[1]][row[2]].type = row[3];\r\n\t      obj[row[0]][row[1]][row[2]].value = row[4];\r\n\t    };\r\n\t    return (obj);\r\n\t  }).then(function(info) {\r\n\t    var param_encoder = {};\r\n\t    var dataset = {\r\n\t      _fieldnames: [],\r\n\t      _type: {}\r\n\t    };\r\n\t    var subsetVariables = [];\r\n\t    try{\r\n\t    \tsubsetVariables = info.attribute.NC_GLOBAL.subsetVariables.value.split(\",\").map(x=>x.trim());\r\n\r\n\t    }catch(e){}\r\n\t    var wanted = [\"dimension\", \"variable\"];\r\n\t    for (var x = 0; x < wanted.length; x++) {\r\n\t      var dimvar = wanted[x];\r\n\t      if (!info[dimvar]) {\r\n\t        continue;\r\n\t      }\r\n\r\n\t      if (dimvar === \"dimension\") {\r\n\t        dataset.dimensions = {};\r\n\t      }\r\n\r\n\t      for (var key in info[dimvar]) {\r\n  \t      dataset._type[key] = \"String\";\r\n\t        dataset._fieldnames.push(key);\r\n\t        var etype = info[dimvar][key][\"\"][\"type\"];\r\n\t        var evalue = \"\" + info[dimvar][key][\"\"][\"value\"];\r\n\t        switch (etype) {\r\n\t          case 'float':\r\n\t          case 'double':\r\n\t            param_encoder[key] = function(v) {\r\n\t              return isNaN(v) ? null : v\r\n\t            };\r\n\t            dataset._type[key] = \"Number\"\r\n\t            break;\r\n\t          case 'int':\r\n\t          case 'long':\r\n\t          case 'short':\r\n\t          case 'byte':\r\n\t            param_encoder[key] = function(v) {\r\n\t              return isNaN(v) ? null : v\r\n\t            };\r\n\t            dataset._type[key] = \"Integer\"\r\n\t            break;\r\n\t          case 'String':\r\n\t          case 'char':\r\n\t            param_encoder[key] = function(v) {\r\n\t              return '\"' + v + '\"'\r\n\t            };\r\n\t            break;\r\n\t          default:\r\n\t            throw new Error('Unknown type [' + etype + '] for ' + dataset.id + '.' + key);\r\n\t        }\r\n\r\n\t        //var isTimeField = false;\r\n\t        if (info.attribute[key] && info.attribute[key][\"_CoordinateAxisType\"]) {\r\n\t          var axisType = info.attribute[key][\"_CoordinateAxisType\"].value;\r\n\t          switch (axisType) {\r\n\t            case \"Time\":\r\n\t              dataset.time_dimension = key;\r\n\t              param_encoder[key] = time_encoder;\r\n\t              param_encoder['since'] = time_encoder;\r\n\t              param_encoder['until'] = time_encoder;\r\n\t              dataset._type[key] = \"Time\";\r\n\t              break;\r\n\t            case \"Lat\":\r\n\t              dataset.lat_dimension = key;\r\n\t              break;\r\n\t            case \"Lon\":\r\n\t              dataset.lon_dimension = key;\r\n\t              break;\r\n\t            default:\r\n\t              break;\r\n\t          }\r\n\t        }\r\n\r\n\t        if (dimvar !== \"dimension\" && info.dimension && evalue) {\r\n\t          dataset.dimensions[key] = evalue.split(/[ ,]+/);\r\n\t        }\r\n\t        if(key === \"time\"){\r\n\t            dataset.time_dimension = key;\r\n\t            param_encoder[key] = time_encoder;\r\n\t            dataset._type[key] = \"Time\";\r\n\t        }\r\n\t      }\r\n\r\n\t    }\r\n\t    dataset.param_encoder = param_encoder;\r\n\t    dataset.base_url = this.erddap.base_url;\r\n\t    dataset.id = this.dataset_id;\r\n\t    dataset.info = info;\r\n\t    dataset.subsetVariables = subsetVariables;\r\n\t    dataset.encode = function(variable,constraint,value){\r\n\t    \tconst encoded_value = this.param_encoder[variable](value);\r\n\t    \treturn `${variable}${constraint}${encoded_value}`;\r\n\r\n\t    }.bind(dataset);\r\n\t    dataset.subsets = this.subsets;\r\n\t    this._meta = dataset;\r\n\t    return dataset;\r\n\t  }.bind(this));\r\n\t}.bind(this));\r\n\r\n}\r\nErddapDataset.prototype.variables = function(){\r\n\treturn this._meta.info.variable;\r\n}\r\n\r\nErddapDataset.prototype.fetchMetadata = function(){\r\n\treturn this._fetchMetadata;\r\n}\r\nErddapDataset.prototype.prepareSubset = function(variable){\r\n\tif(this.subsets[variable] === undefined){\r\n\t\tthis.subsets[variable] = null;\r\n\t\tthis.fetchData(variable+\"&distinct()\").then(results=>{\r\n\t\t\tthis.subsets[variable] = results.map(o=>o[variable]);\r\n\t\t})\r\n\t}\r\n\r\n}\r\n\r\nErddapDataset.prototype.getDataUrl = function(formatExtension){\r\n\treturn this.erddap.base_url + \"/tabledap/\" + this.dataset_id+formatExtension+\"?\"\r\n}\r\nErddapDataset.prototype.fetchData = function(dap){\r\n\tvar url = this.getDataUrl(\".json\")+dap;\r\n\treturn fetchJsonp(url)\r\n\t\t.then(e2o);\r\n }\r\n\r\nErddapClient.prototype.dataset = function(dsid){\r\n\tthis._datasets[dsid] = this._datasets[dsid] || new ErddapDataset(this,dsid);\r\n\treturn this._datasets[dsid];\r\n}\r\nexport default ErddapClient","//See https://react-select.com/advanced#sortable-multiselect\r\nimport React from 'react';\r\n\r\nimport Select, { components } from 'react-select';\r\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\r\n\r\nfunction arrayMove(array, from, to) {\r\n  array = array.slice();\r\n  array.splice(to < 0 ? array.length + to : to, 0, array.splice(from, 1)[0]);\r\n  return array;\r\n}\r\n\r\nconst SortableMultiValue = SortableElement(props => {\r\n  // this prevents the menu from being opened/closed when the user clicks\r\n  // on a value to begin dragging it. ideally, detecting a click (instead of\r\n  // a drag) would still focus the control and toggle the menu, but that\r\n  // requires some magic with refs that are out of scope for this example\r\n  const onMouseDown = e => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  };\r\n  const innerProps = { onMouseDown };\r\n  return <components.MultiValue {...props} innerProps={innerProps} />;\r\n});\r\n\r\nconst SortableSelect = SortableContainer(Select);\r\n\r\n\r\nclass MultiSelectSort extends React.Component {\r\n\t  /*\r\n\t constructor(props) {\r\n   \t \tsuper(props);\r\n\t    this.state = {\r\n\t      selected: []\r\n\t    };\r\n\t  }\r\n\t  componentDidMount(){\r\n\t  \tthis.setState({selected: this.props.options.filter(o=>o.selected)});\r\n\t  }\r\n\t  componentDidUpdate(oldProps){\r\n\t  \tif(oldProps.dataset !== this.props.dataset){\r\n\t  \t\tthis.setState({selected: this.props.options.filter(o=>o.selected)});\r\n\t  \t}\r\n\t  }\r\n\t  */\r\n\trender(){\r\n\t\tconst {options,selected,onChange,placeholder} = this.props;\r\n\r\n\t\t  const onSortEnd = ({ oldIndex, newIndex }) => {\r\n\r\n\t\t    const selectedVariables = arrayMove(selected, oldIndex, newIndex);\r\n\t\t    onChange(selectedVariables);\r\n\t\t  };\r\n\r\n\t\t  return (\r\n\t\t    <SortableSelect\r\n\t\t      // react-sortable-hoc props:\r\n\t\t      axis=\"xy\"\r\n\t\t      onSortEnd={onSortEnd}\r\n\t\t      distance={4}\r\n\t\t      // small fix for https://github.com/clauderic/react-sortable-hoc/pull/352:\r\n\t\t      getHelperDimensions={({ node }) => node.getBoundingClientRect()}\r\n\t\t      // react-select props:\r\n\t\t      isMulti\r\n\t\t      options={options}\r\n\t\t      value={selected}\r\n\t\t      onChange={onChange}\r\n\t\t      components={{\r\n\t\t        MultiValue: SortableMultiValue,\r\n\t\t      }}\r\n\t\t      closeMenuOnSelect={false}\r\n\t\t      noOptionsMessage={()=><i>No more variables...</i>}\r\n\t\t      placeholder={placeholder || \"Select...\"}\r\n\t\t    />\r\n\t\t  );\r\n\t}\r\n\r\n}\r\n\r\nexport default MultiSelectSort;","import React from 'react';\r\nimport { Select, MenuItem, TextField} from '@material-ui/core';\r\nimport { KeyboardDateTimePicker } from '@material-ui/pickers'\r\nimport { FormGroup, FormControl, FormLabel} from '@material-ui/core';\r\nimport { Autocomplete } from '@material-ui/lab';\r\n\r\n\r\n\r\nfunction ItemTextField(props) {\r\n    //TODO: split this into two controls...\r\n\t\tconst {variable,operation,onValueAssigned,metadata} = props;\r\n\t\tconst label = variable+\" \"+filterkv[operation];\r\n        const [value, setvalue] = React.useState(\"_choose\");\r\n\t\tconst onChange = (event, val, reason) =>{\r\n            const assigned = event.target.value; //event.target && event.target.value !== undefined ? event.target.value: val;\r\n            setvalue(assigned);\r\n            onValueAssigned(variable,operation,assigned);\r\n        };\r\n        let options = metadata.subsets[variable];\r\n        if(options){\r\n            const isString = metadata._type[variable] === 'String'?true:false;\r\n\r\n            if(false && isString){\r\n                return(\r\n                    <Autocomplete\r\n                  options={options}\r\n                  style={{ width: 300, display: 'inline-flex'}}\r\n                  renderInput = {params => (<TextField {...params} label={label} variant=\"outlined\" />)}\r\n                  label={label}\r\n                  onInputChange={onChange}\r\n                     />);\r\n            }\r\n            return(\r\n            <FormControl component=\"fieldset\" margin=\"dense\">\r\n            <FormLabel component=\"legend\">{label}</FormLabel>\r\n                <Select label={label} value={value} onChange={onChange}>\r\n                <MenuItem key=\"_choose\" value=\"_choose\">Choose... </MenuItem>\r\n                {options.map(option=>{\r\n                    return(<MenuItem key={option} value={option}>{option}</MenuItem>)\r\n                })}\r\n                </Select>\r\n            </FormControl>);\r\n         \r\n        }\r\n\t\treturn (<TextField label={label} variant=\"outlined\" onChange={onChange}/>);\r\n}\r\n\r\nfunction ItemTimeField(props){\r\n\t\tconst [absoluteOrRelative, setAbsoluteOrRelative] = React.useState(\"0\");\r\n\t\tconst [now, setNow] = React.useState(\"now-\");\r\n\t\tconst [timeUnits, setTimeUnits] = React.useState(\"hours\");\r\n\t\tconst [timeQuantity, setTimeQuantity] = React.useState(1);\r\n\t\tconst [badDateFormat, setBadDateFormat] = React.useState(false);\r\n\t\tconst [selectedDate, setSelectedDate] = React.useState(false);\r\n\t\tconst {variable,operation,onValueAssigned} = props;\r\n\t\tconst label = variable+\" \"+filterkv[operation];\r\n\t\tconst onAbsoluteOrRelativeChanged = (e)=>setAbsoluteOrRelative(e.target.value);\r\n\t\tconst onRelativeTimeQuantityChanged = (e) =>{\r\n\t\t\tvar value = parseInt(e.target.value);\r\n\t\t\tsetTimeQuantity(value);\r\n\t\t\tonValueAssigned(variable,operation,now+value+timeUnits);\r\n\t\t};\r\n\t\tconst onRelativeTimeUnitsChanged = (e)=>{\r\n\t\t\tvar value = e.target.value;\r\n\t\t\tsetTimeUnits(value);\r\n\t\t\tonValueAssigned(variable,operation,now+timeQuantity+value);\r\n\t\t}\r\n\t\tconst onRelativeTimeNowChanged = (e)=>{\r\n\t\t\tvar value = e.target.value;\r\n\t\t\tsetNow(value);\r\n\t\t\tonValueAssigned(variable,operation,value+timeQuantity+timeUnits);\r\n\t\t}\r\n\t\tconst onAbsoluteTimeChanged = (date) =>{\r\n\t\t\tvar isodate;\r\n\t\t\ttry{\r\n\t\t\t\tisodate = date.toISOString().substring(0,18)+\"Z\";\r\n\t\t\t}catch(e){\r\n\t\t\t\tsetBadDateFormat(true);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tsetSelectedDate(date);\r\n\t\t\tsetBadDateFormat(false);\r\n\t\t\tonValueAssigned(variable,operation,isodate)\r\n\t\t};\r\n\t\tif(absoluteOrRelative === \"0\"){\r\n\t\t\treturn(\r\n\t\t\t<Select labelId={label} value={absoluteOrRelative} onChange={onAbsoluteOrRelativeChanged}>\r\n\t\t\t\t<MenuItem key=\"0\" value=\"0\">Choose how to specify {variable}... </MenuItem>\r\n\t\t\t\t<MenuItem key=\"absolute\" value=\"absolute\">A specific date/time...</MenuItem>)\r\n\t\t\t\t<MenuItem key=\"relative\" value=\"relative\">A time relative to when the query is run...</MenuItem>)\r\n\t\t\t</Select>\r\n\t\t );\r\n\t\t}\r\n\t\tif(absoluteOrRelative === \"relative\"){\r\n\t\t\treturn (\r\n\t\t\t<FormControl component=\"fieldset\" margin=\"dense\">\r\n        <FormLabel component=\"legend\">{label}</FormLabel>\r\n\t\t\t<FormGroup row={true}>\r\n\t\t\t<Select value={now} onChange={onRelativeTimeNowChanged}>\r\n\t\t\t\t<MenuItem key=\"nowPlus\" value=\"now+\">NOW plus</MenuItem>)\r\n\t\t\t\t<MenuItem key=\"nowMinus\" value=\"now-\">NOW minus</MenuItem>\r\n\t\t\t</Select>\r\n\t\t\t   <TextField type=\"number\" InputProps={{inputProps:{min: 1}}} value={timeQuantity} onChange={onRelativeTimeQuantityChanged}/>\r\n\t\t\t<Select value={timeUnits} onChange={onRelativeTimeUnitsChanged}>\r\n\t\t\t\t<MenuItem key=\"seconds\" value=\"seconds\">{timeQuantity === 1 ? \"second\":\"seconds\"}</MenuItem>\r\n\t\t\t\t<MenuItem key=\"minutes\" value=\"minutes\">{timeQuantity === 1 ? \"minute\":\"minutes\"}</MenuItem>\r\n\t\t\t\t<MenuItem key=\"hours\" value=\"hours\">{timeQuantity === 1 ? \"hour\": \"hours\"}</MenuItem>\r\n\t\t\t\t<MenuItem key=\"days\" value=\"days\">{timeQuantity === 1 ? \"day\": \"days\"}</MenuItem>\r\n\t\t\t\t<MenuItem key=\"months\" value=\"months\">{timeQuantity === 1 ? \"month\": \"months\"}</MenuItem>\r\n\t\t\t\t<MenuItem key=\"years\" value=\"years\">{timeQuantity === 1 ? \"year\": \"years\"}</MenuItem>\r\n\t\t\t\t\r\n\t\t\t</Select>\r\n\t\t\t   </FormGroup>\r\n\t\t\t   </FormControl>);\r\n\t\t}\r\n\t\tif(selectedDate === false){\r\n\t\t\tonAbsoluteTimeChanged(new Date(new Date().toISOString().substring(0,10)+\"Z\"))\r\n\t\t}\r\n\r\n\t\t return (      <KeyboardDateTimePicker\r\n        variant=\"inline\"\r\n        ampm={false}\r\n        label={label}\r\n        value={selectedDate}\r\n        onChange={onAbsoluteTimeChanged}\r\n        onError={console.log}\r\n        format=\"yyyy-MM-dd HH:mm:ss\"\r\n      />);\r\n\t\t\t\t\r\n}\r\nconst filterkv = {\r\n\t\"=\": \"equals\",\r\n\t\"!=\": \"does not equal\",\r\n\t\"<\": \"is less than\",\r\n\t\">\": \"is greater than\",\r\n\t\">=\": \"is not less than\",\r\n\t\"<=\": \"is not greater than\",\r\n\t\"=~\": \"matches the regular expression\"\r\n}\r\n\r\nfunction ItemFilter(props){\r\n\tconst {variable,value,datatype,onChange} = props;\r\n\tconst filters = [\"=\",\"!=\",\"<\",\">\",\"<=\",\">=\"];\r\n\tif(datatype === \"String\"){\r\n\t\tfilters.push(\"=~\");\r\n\t}\r\n\r\n\treturn(\r\n\t\t\t<Select labelId={variable} value={value} onChange={onChange}>\r\n\t\t\t<MenuItem key=\"0\" value=\"0\">Filter by {variable} ... </MenuItem>\r\n\t\t\t{filters.map((key)=>{\r\n\t\t\t\treturn(<MenuItem key={key} value={key}>{variable} {filterkv[key]}</MenuItem>)\r\n\t\t\t})}\r\n\t\t\t</Select>\r\n\t\t);\r\n}\r\n\r\nfunction FieldFilterSelect(props){\r\n\tconst {variables,onChange} = props;\r\n\treturn (<Select value=\"__choose__\" onChange={onChange}>\r\n\t\t<MenuItem key=\"__choose__\" value=\"__choose__\">Add a filter...</MenuItem>\r\n\t\t\t{variables.map((variable)=> {\r\n\t\t\t\treturn(<MenuItem key={variable} value={variable}>{variable}</MenuItem>)\r\n\t\t\t})}\r\n\t</Select>);\r\n}\r\n/*\r\nclass FieldFilter extends React.Component{\r\n\trender(){\r\n\t\tconst {variables} = this.props;\r\n\t\treturn (\r\n            <FieldFilterSelect variables={variables} onChange={onChange}/>\r\n            )\r\n\t}\r\n}\r\n\r\nexport default FieldFilter;\r\n*/\r\nexport default function FieldFilter(props){\r\n\tconst [variable, setVariable] = React.useState(null)\r\n\tconst [filterop, setFilterop] = React.useState(null)\r\n\t\tconst {variables,onVariableSelected, onValueAssigned, metadata} = props;\r\n\t\tconst onVariableChange = (e)=>{\r\n\t\t\tif(e.target.value !== \"__choose__\"){\r\n\t\t\t\tsetVariable(e.target.value);\r\n\t\t\t\tonVariableSelected(e.target.value);\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst onFilterOpChange = (e)=>{setFilterop(e.target.value)};\r\n\t\tconst datatype = metadata._type[variable];\r\n\t\tif(filterop){\r\n\t\t\tif(datatype === \"Time\"){\r\n\t\t\t\treturn(<ItemTimeField variable={variable} metadata={metadata} operation={filterop} onValueAssigned={onValueAssigned}/>)\r\n\t\t\t}\r\n\t\t\treturn(<ItemTextField variable={variable} metadata={metadata} operation={filterop} onValueAssigned={onValueAssigned}/>)\r\n\t\t}\r\n\t\tif(variable){\r\n\t\t\treturn(<ItemFilter datatype={datatype} variable={variable} value=\"0\" onChange={onFilterOpChange}/>)\r\n\t\t}\r\n\t\treturn (<FieldFilterSelect variables={variables} onChange={onVariableChange}/>)\r\n}\r\n","import React, {useState} from 'react';\r\nimport FieldFilter from './FieldFilter';\r\nimport {Box} from '@material-ui/core';\r\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\r\nimport { IconButton, FormLabel } from '@material-ui/core';\r\n\r\nexport default function FieldFilters(props){\r\n\tconst [filters, setFilters] = useState([{key: Math.random()}])\r\n\tconst {variables, metadata, onFiltersChanged} = props;\r\n\tconst addFilter = (filter)=>{setFilters([...filters,{key: Math.random()}]);}\r\n\tconst deleteFilter = (filter)=>{\r\n\t\tlet filters2 = filters.filter((v)=>v.key!==filter.key)\r\n\t\tsetFilters(filters2);\r\n\t\tonFiltersChanged && onFiltersChanged(filters2.filter(filter=>filter.uri_component));\r\n\t};\r\n\tconst onValueAssigned = (filter,variable,constraint,value)=>{\r\n\t\tif(value === undefined) return;\r\n\t\tconst filters2 = [...filters];\r\n\t\tfilters2.forEach((f)=>{\r\n\t\t\tif(f.key === filter.key){\r\n\t\t\t\tif((\"\"+value).length){\r\n\t\t\t\t\tf.variable = variable;\r\n\t\t\t\t\tf.constraint = constraint;\r\n\t\t\t\t\tf.value = value;\r\n\t\t\t\t\tf.uri_component = metadata.encode(variable,constraint,value);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tdelete f.variable;\r\n\t\t\t\t\tdelete f.constraint;\r\n\t\t\t\t\tdelete f.value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetFilters(filters2);\r\n\t\tonFiltersChanged && onFiltersChanged(filters2.filter(filter=>filter.uri_component));\r\n\t};\r\n\treturn (<React.Fragment>\r\n\t            <FormLabel component=\"legend\">Filters</FormLabel>\r\n\r\n\t\t\t\t{filters.map((filter, idx)=>{\r\n\t\t\t\t\tlet icon;\r\n\t\t\t\t\tlet deleteThisFilter = deleteFilter.bind(null,filter);\r\n\t\t\t\t\tlet onThisValueAssigned = onValueAssigned.bind(null,filter)\r\n\t\t\t\t\tif(idx+1<filters.length){\r\n\t\t\t\t\t\ticon = <IconButton onClick={deleteThisFilter}><HighlightOffIcon /></IconButton>\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn(<Box m={1} key={filter.key} component=\"div\" display=\"block\">\r\n\t\t\t\t\t\t<FieldFilter key={filter.key} variables={variables} metadata={metadata} onVariableSelected={addFilter} onValueAssigned={onThisValueAssigned}/>\r\n\t\t\t\t\t\t{icon}\r\n\t\t\t\t\t\t</Box>);\r\n\t\t\t\t})}\r\n\t\t\t</React.Fragment>);\r\n}","import React from 'react';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\n\r\nexport default function ResultsTable(props) {\r\n\tconst {data,variables} = props;\r\n\r\n\t  if(!(variables && variables.length)){\r\n\t  \treturn (\"\")\r\n\t  }\r\n\t  const keys = variables;\r\n\t  return (\r\n\t  \t<React.Fragment>\r\n\t  \t<Typography variant=\"h5\" gutterBottom>Example Results:</Typography>\r\n\t  <TableContainer component={Paper}>\r\n      <Table size=\"small\" aria-label=\"a dense table\">\r\n        <TableHead>\r\n          <TableRow>\r\n          {\r\n          \tkeys.map((key,idx) => <TableCell key={idx}>{key}</TableCell>)\r\n          }\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {data.map( (row, idx) => (\r\n            <TableRow key={idx}>\r\n            {\r\n\t          \tkeys.map((k,idx) => (<TableCell key={idx}>{row[k]}</TableCell>))\r\n            }\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n    </React.Fragment>\r\n    );\r\n}","const options = [\n  {\n    \"value\": \".asc\",\n    \"label\": \".asc - View OPeNDAP-style ISO-8859-1 comma-separated text.\"\n  },\n  {\n    \"value\": \".csv\",\n    \"label\": \".csv - Download a ISO-8859-1 comma-separated text table (line 1: names; line 2: units; ISO 8601 times).\"\n  },\n  {\n    \"value\": \".csv0\",\n    \"label\": \".csv0 - Download a ISO-8859-1 .csv file without column names or units. Times are ISO 8601 strings.\"\n  },\n  {\n    \"value\": \".csvp\",\n    \"label\": \".csvp - Download a ISO-8859-1 .csv file with line 1: name (units). Times are ISO 8601 strings.\"\n  },\n  {\n    \"value\": \".das\",\n    \"label\": \".das - View the dataset's metadata via an ISO-8859-1 OPeNDAP Dataset Attribute Structure (DAS).\"\n  },\n  {\n    \"value\": \".dds\",\n    \"label\": \".dds - View the dataset's structure via an ISO-8859-1 OPeNDAP Dataset Descriptor Structure (DDS).\"\n  },\n  {\n    \"value\": \".dods\",\n    \"label\": \".dods - OPeNDAP clients use this to download the data in the DODS binary format.\"\n  },\n  {\n    \"value\": \".esriCsv\",\n    \"label\": \".esriCsv - Download a ISO_8859_1 .csv file for ESRI's ArcGIS 9.x and below (separate date and time columns).\"\n  },\n  {\n    \"value\": \".fgdc\",\n    \"label\": \".fgdc - View the dataset's UTF-8 FGDC .xml metadata.\"\n  },\n  {\n    \"value\": \".geoJson\",\n    \"label\": \".geoJson - Download longitude,latitude,otherColumns data as a UTF-8 GeoJSON .json file.\"\n  },\n  {\n    \"value\": \".graph\",\n    \"label\": \".graph - View a Make A Graph web page.\"\n  },\n  {\n    \"value\": \".help\",\n    \"label\": \".help - View a web page with a description of tabledap.\"\n  },\n  {\n    \"value\": \".html\",\n    \"label\": \".html - View an OPeNDAP-style HTML Data Access Form.\"\n  },\n  {\n    \"value\": \".htmlTable\",\n    \"label\": \".htmlTable - View a UTF-8 .html web page with the data in a table. Times are ISO 8601 strings.\"\n  },\n  {\n    \"value\": \".iso19115\",\n    \"label\": \".iso19115 - View the dataset's ISO 19115-2/19139 UTF-8 .xml metadata.\"\n  },\n  {\n    \"value\": \".itx\",\n    \"label\": \".itx - Download an ISO-8859-1 Igor Text File. Each response column becomes a wave.\"\n  },\n  {\n    \"value\": \".json\",\n    \"label\": \".json - View a table-like UTF-8 JSON file (missing value = 'null'; times are ISO 8601 strings).\"\n  },\n  {\n    \"value\": \".jsonlCSV\",\n    \"label\": \".jsonlCSV - View a UTF-8 JSON Lines CSV file (missing value = 'null'; times are ISO 8601 strings).\"\n  },\n  {\n    \"value\": \".jsonlKVP\",\n    \"label\": \".jsonlKVP - View a UTF-8 JSON Lines file with Key:Value pairs (missing value = 'null'; times are ISO 8601 strings).\"\n  },\n  {\n    \"value\": \".kml\",\n    \"label\": \".kml - View a .kml file, suitable for Google Earth.\"\n  },\n  {\n    \"value\": \".largePdf\",\n    \"label\": \".largePdf - View a large .pdf image file with a graph or map.\"\n  },\n  {\n    \"value\": \".largePng\",\n    \"label\": \".largePng - View a large .png image file with a graph or map.\"\n  },\n  {\n    \"value\": \".mat\",\n    \"label\": \".mat - Download a MATLAB binary file.\"\n  },\n  {\n    \"value\": \".nc\",\n    \"label\": \".nc - Download a flat, table-like, NetCDF-3 binary file with COARDS/CF/ACDD metadata.\"\n  },\n  {\n    \"value\": \".ncCF\",\n    \"label\": \".ncCF - Download a NetCDF-3 CF Discrete Sampling Geometries file (Contiguous Ragged Array).\"\n  },\n  {\n    \"value\": \".ncCFHeader\",\n    \"label\": \".ncCFHeader - View the UTF-8 header (the metadata) for the .ncCF file.\"\n  },\n  {\n    \"value\": \".ncCFMA\",\n    \"label\": \".ncCFMA - Download a NetCDF-3 CF Discrete Sampling Geometries file (Multidimensional Array).\"\n  },\n  {\n    \"value\": \".ncCFMAHeader\",\n    \"label\": \".ncCFMAHeader - View the UTF-8 header (the metadata) for the .ncCFMA file.\"\n  },\n  {\n    \"value\": \".ncHeader\",\n    \"label\": \".ncHeader - View the UTF-8 header (the metadata) for the NetCDF-3 .nc file.\"\n  },\n  {\n    \"value\": \".nccsv\",\n    \"label\": \".nccsv - Download a NetCDF-3-like 7-bit ASCII NCCSV .csv file with COARDS/CF/ACDD metadata.\"\n  },\n  {\n    \"value\": \".nccsvMetadata\",\n    \"label\": \".nccsvMetadata - View the dataset's metadata as the top half of a 7-bit ASCII NCCSV .csv file.\"\n  },\n  {\n    \"value\": \".ncoJson\",\n    \"label\": \".ncoJson - Download a UTF-8 NCO lvl=2 JSON file with COARDS/CF/ACDD metadata.\"\n  },\n  {\n    \"value\": \".odvTxt\",\n    \"label\": \".odvTxt - Download longitude,latitude,time,otherColumns as an ISO-8859-1 ODV Generic Spreadsheet File (.txt).\"\n  },\n  {\n    \"value\": \".pdf\",\n    \"label\": \".pdf - View a standard, medium-sized .pdf image file with a graph or map.\"\n  },\n  {\n    \"value\": \".png\",\n    \"label\": \".png - View a standard, medium-sized .png image file with a graph or map.\"\n  },\n  {\n    \"value\": \".smallPdf\",\n    \"label\": \".smallPdf - View a small .pdf image file with a graph or map.\"\n  },\n  {\n    \"value\": \".smallPng\",\n    \"label\": \".smallPng - View a small .png image file with a graph or map.\"\n  },\n  {\n    \"value\": \".subset\",\n    \"label\": \".subset - View an HTML form which uses faceted search to simplify picking subsets of the data.\"\n  },\n  {\n    \"value\": \".transparentPng\",\n    \"label\": \".transparentPng - View a .png image file (just the data, without axes, landmask, or legend).\"\n  },\n  {\n    \"value\": \".tsv\",\n    \"label\": \".tsv - Download a ISO-8859-1 tab-separated text table (line 1: names; line 2: units; ISO 8601 times).\"\n  },\n  {\n    \"value\": \".tsv0\",\n    \"label\": \".tsv0 - Download a ISO-8859-1 .tsv file without column names or units. Times are ISO 8601 strings.\"\n  },\n  {\n    \"value\": \".tsvp\",\n    \"label\": \".tsvp - Download a ISO-8859-1 .tsv file with line 1: name (units). Times are ISO 8601 strings.\"\n  },\n  {\n    \"value\": \".wav\",\n    \"label\": \".wav - Download a .wav audio file. All columns must be numeric and of the same type.\"\n  },\n  {\n    \"value\": \".xhtml\",\n    \"label\": \".xhtml - View a UTF-8 XHTML (XML) file with the data in a table. Times are ISO 8601 strings.\"\n  }\n];\n\nexport default options;","import React from 'react';\r\nimport MultiSelectSort from './MultiSelectSort';\r\nimport FieldFilters from './FieldFilters';\r\nimport ResultsTable from './ResultsTable';\r\nimport {debounce} from 'lodash';\r\nimport TabledapFormats from './TabledapFormats';\r\nimport { Select, MenuItem, Box, Typography, FormLabel } from '@material-ui/core';\r\n\r\nclass QueryConstructorForm extends React.Component{\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tvariables: [],\r\n\t\t\tfilters: []\r\n\t\t}\r\n\t\tthis.setSelected = this.setSelected.bind(this);\r\n\t\tthis.onFiltersChanged = this.onFiltersChanged.bind(this);\r\n\t}\r\n\r\n\r\n\tsetSelected(selected){\r\n\t\tthis.setState({variables: selected});\r\n\t\tselected.forEach(variable=>{\r\n\t\t\tif(this.props.dataset._meta.subsetVariables.indexOf(variable)>=0){\r\n\t\t\t\tthis.props.dataset.prepareSubset(variable);\r\n\t\t\t}\r\n\t\t})\r\n\t\tthis.props.onChange(selected, this.state.filters);\r\n\t}\r\n\r\n\tonFiltersChanged(filters){\r\n\t\tthis.setState({filters: filters});\r\n\t\tthis.props.onChange && this.props.onChange(this.state.variables, filters);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps){\r\n\t\tif(prevProps.dataset !== this.props.dataset){\r\n\t\t\tthis.setState({variables: []});}\r\n\r\n\t}\r\n\r\n\trender(){\r\n\t\tconst {dataset, metadata} = this.props;\r\n\t\tconst {variables} = this.state;\r\n\t\tif(metadata){\r\n\t\t\tconst map = (field)=>{return {value: field, label: field, selected: variables.indexOf(field)>=0}};\r\n\r\n\t\t\tconst options = variables.map(map);\r\n\t\t\tmetadata._fieldnames.filter(field=>variables.indexOf(field)<0).map(map).forEach(option=>options.push(option));\r\n\t\t\t\r\n\t\t\treturn (<React.Fragment>\r\n\t\t\t\t<FormLabel component=\"legend\">Fields</FormLabel>\r\n\t\t\t\t<MultiSelectSort \r\n\t\t\t\tdataset={dataset} \r\n\t\t\t\tselected={options.filter(o=>variables.indexOf(o.value)>=0)} \r\n\t\t\t\toptions={options} \r\n\t\t\t\tonChange={selected => this.setSelected(selected?selected.map(o=>o.value):[])} \r\n\t\t\t\tplaceholder={<p>Select some fields...</p>}/>\r\n\r\n\t\t\t\t{variables.length > 0 &&\r\n\t\t\t\t\t<FieldFilters onFiltersChanged={this.onFiltersChanged} variables={variables} metadata={metadata}/>\r\n\t\t\t\t}\r\n\t\t\t\t</React.Fragment>)\r\n  \t\t}\r\nreturn (<h1>sorry, no metadata</h1>)\r\n\t}\r\n}\r\nfunction QueryLink(props){\r\n\tconst {dataset,variables,filters} = props;\r\n\tconst [format, setFormat] = React.useState(\"__choose__\");\r\n\t\tconst onChange = (e,value) =>{\r\n            setFormat(e.target.value);\r\n        };\r\n\t\tconst options = TabledapFormats.map((format) =>\r\n  \t\t\t<MenuItem key={format.value} value={format.value}>{format.label}</MenuItem>\r\n  \t\t);\r\n  \t\tif(!(variables && variables.length)){\r\n  \t\t\treturn \"\";\r\n  \t\t}\r\n\t\tconst parts = [variables.join(\",\")];\r\n\t\tconst displayparts = [variables.join(\",\")];\r\n\t\tif(filters && filters.length){\r\n\t\t\tparts.push(filters.map(filter=>encodeURIComponent(filter.uri_component)).join(\"&\"))\r\n\t\t\tdisplayparts.push(filters.map(filter=>filter.uri_component).join(\"&\"))\r\n\t\t}\r\n\t\tconst base_url = dataset.getDataUrl(format===\"__choose__\"?\".htmlTable\":format);\r\n\t\tconst uri_component = base_url+parts.join(\"&\");\r\n\t\tconst uri_display = base_url+displayparts.join(\"&\");\r\n\treturn (\r\n\t<React.Fragment>\r\n\t  \t<Typography variant=\"h5\" gutterBottom>Download Link:</Typography>\r\n\t\t<Box m={1} key=\"Download Format\" component=\"div\" display=\"block\">\r\n\t\t<Select value={format} onChange={onChange}>\r\n\t\t\t<MenuItem key=\"__choose__\" value=\"__choose__\" >Choose Download File Format...</MenuItem>\r\n\t\t{options}\r\n\t\t</Select>\r\n\t\t</Box>\r\n\t\t<a key=\"downloadLink\" href={uri_component}>{uri_display}</a>\r\n\t</React.Fragment>\r\n\t);\r\n}\r\nclass DataAccessForm extends React.Component {\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdataset: false,\r\n\t\t\tmetadata: false,\r\n\t\t\tdata: [],\r\n\t\t\tvariables: [],\r\n\t\t\tfilters: [],\r\n\t\t\tqueryno: 0\r\n\t\t}\r\n\t\tthis.onChange = debounce(this.onChange.bind(this),500);\r\n\t\tthis.onDataFetched = this.onDataFetched.bind(this);\r\n\t\tthis.noDataFetched = this.noDataFetched.bind(this);\r\n\t}\r\n\r\n\tonChange = function(variables,filters){\r\n\t\tconst {dataset,queryno} = this.state;\r\n\t\tlet parts = [variables.join(\",\")]\r\n\t\tif(filters && filters.length){\r\n\t\t\tparts.push(filters.map(filter=>encodeURIComponent(filter.uri_component)).join(\"&\"))\r\n\t\t}\r\n\t\tparts.push(encodeURIComponent('orderByLimit(\"5\")'))\r\n\t\tlet uri_component = parts.join(\"&\");\r\n\t\tlet newqueryno = queryno + 1;\r\n\t\tthis.setState({variables: variables, filters: filters, queryno: newqueryno,  data: []});\r\n\t\tdataset.fetchData(uri_component).then(this.onDataFetched.bind(this,newqueryno)).catch(this.noDataFetched.bind(this,newqueryno));\r\n\t}\r\n\r\n\tonDataFetched = function(queryno,data){\r\n\t\tif(this.state.queryno === queryno){\r\n\t\t\tthis.setState({data: data});\r\n\t\t}\r\n\t}\r\n\tnoDataFetched = function(queryno,err){\r\n\t\tif(this.state.queryno === queryno){\r\n\t\t\tthis.setState({data: []});\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps){\r\n\t\tif(prevProps.dataset_id !== this.props.dataset_id){\r\n\t\t\tthis.setState({\r\n\t\t\tdataset: false,\r\n\t\t\tmetadata: false,\r\n\t\t\tdata: [],\r\n\t\t\tvariables: [] });\r\n\t\t\tif(this.props.dataset_id === \"0\"){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst dataset = this.props.erddap.dataset(this.props.dataset_id);\r\n\t\t\tdataset.fetchMetadata().then(function(metadata){\r\n\t\t\t\tthis.setState({dataset: dataset, metadata: metadata, data: []});\r\n\t\t\t}.bind(this))\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tconst {dataset_id} = this.props;\r\n\t\tconst {dataset,metadata,data,variables,filters} = this.state;\r\n\t\tif(dataset_id === \"0\" || !dataset_id)  {\r\n\t\t\treturn(<div></div>)\r\n\t\t}\r\n\t\tif(!dataset){\r\n\t\t\treturn(<div>loading {dataset_id}</div>)\r\n\t\t}\r\n\t\treturn(\r\n\t\t<React.Fragment>\r\n\t\t\t<QueryConstructorForm onChange={this.onChange} dataset={dataset} metadata={metadata}/>\r\n\t\t\t<ResultsTable data={data} variables={variables}/>\r\n\t\t\t<QueryLink variables={variables} filters={filters} dataset={dataset}/>\r\n\t\t</React.Fragment>\r\n\t\t)\r\n\r\n\t}\r\n}\r\n\r\nexport default DataAccessForm","import React from 'react';\r\nimport ErddapClient from '../ErddapClient'\r\nimport DataAccessForm from './DataAccessForm'\r\nimport { Select, MenuItem, Box, FormLabel, FormControl } from '@material-ui/core';\r\n\r\n\r\nclass Erddap extends React.Component {\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tserver: props.server || 'https://erddap.marine.ie/erddap/',\r\n\t\t\tdatasets: [],\r\n\t\t\tdataset: 0\r\n\t\t}\r\n\t\tthis.onDatasetChanged = this.onDatasetChanged.bind(this);\r\n\t}\r\n     \r\n    onDatasetChanged(event){\r\n\t    this.setState({dataset: event.target.value})\r\n    }\r\n\r\n\tcomponentDidMount() {\r\n\t\tlet erddap = new ErddapClient(this.state.server);\r\n\t\tthis.setState({erddap: erddap});\r\n\t\terddap.listDatasets().then((datasets) =>{\r\n\t\t\tthis.setState({datasets: datasets})\r\n\t\t})\r\n    }\r\n\r\n\trender() {\r\n\t\tconst {datasets,erddap,dataset} = this.state;\r\n\t\tconst options = datasets.map((dataset_id) =>\r\n  \t\t\t<MenuItem key={dataset_id} value={dataset_id}>{dataset_id}</MenuItem>\r\n  \t\t);\r\n  \t\tconst choose = (datasets && datasets.length)?\"Choose...\":\"Loading...\";\r\n\t\treturn (\r\n\t\t<React.Fragment>\r\n\t\t            <Box display=\"block\">\r\n            <FormControl component=\"fieldset\" margin=\"dense\">\r\n            <FormLabel component=\"legend\">Dataset</FormLabel>\r\n\r\n\t\t<Select value={dataset} onChange={this.onDatasetChanged} >\r\n\t\t    <MenuItem value=\"0\" key=\"choose...\" selected>{choose}</MenuItem>\r\n\t\t\t{options}\r\n\t\t</Select>\r\n\t\t</FormControl>\r\n\t\t</Box>\r\n\t\t<DataAccessForm erddap={erddap} dataset_id={dataset}/>\r\n\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Erddap","import React, {useState, useEffect} from 'react';\nimport { Select, MenuItem, Box, FormControl, FormLabel } from '@material-ui/core';\nimport ErddapClient from '../ErddapClient'\nimport Erddap from './Erddap';\nconst erddapClient = new ErddapClient();\nexport default function Erddaps(props){\n    const [awesomeErddaps, setAwesomErddaps] = useState([]);\n    const [erddapUrl, setErddapUrl] = useState(\"choose\");\n    const [fetchedAwesomErddaps, setFetchedAwesomeErddaps] = useState(false);\n    const onErddapChanged = function(event){\n        setErddapUrl(event.target.value);\n    }\n    const protocol = window.location.protocol.substring(0,window.location.protocol.length-1);\n    useEffect(()=>{\n        if(!fetchedAwesomErddaps){\n            setFetchedAwesomeErddaps(true);\n            async function fetchData() {\n                await erddapClient.fetchAwesomeErddaps().then(data=>{\n                    setAwesomErddaps(data.filter(x=>x.public && x.url.startsWith(protocol)));\n                });\n              }\n            fetchData();        \n        }\n    });\n    const options = awesomeErddaps.map((erddap) =>\n            <MenuItem key={erddap.short_name} value={erddap.url}>{erddap.name}</MenuItem>\n        );\n    const erddap = erddapUrl === \"choose\"? \"\": (<Erddap key={erddapUrl} server={erddapUrl} />);\n        return (\n        <React.Fragment>\n            <Box display=\"block\">\n            <FormControl component=\"fieldset\" margin=\"dense\">\n            <FormLabel component=\"legend\">Erddap Server</FormLabel>\n            <Select value={erddapUrl} onChange={onErddapChanged} >\n                <MenuItem value=\"choose\" key=\"choose...\" selected>Choose...</MenuItem>\n                {options}\n            </Select>\n            </FormControl>\n            </Box>\n\n             {erddap}\n        </React.Fragment>\n        );\n\n}\n","import React from 'react';\nimport 'normalize.css';\nimport './App.css';\nimport Erddaps from './components/Erddaps'\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport DateFnsUtils from '@date-io/date-fns';\nimport Container from '@material-ui/core/Container';\n// https://irishmarineinstitute.github.io/awesome-erddap/erddaps.js\nfunction App() {\n  return (\n        <React.Fragment>\n      <CssBaseline />\n    <Container>\n  \t<MuiPickersUtilsProvider utils={DateFnsUtils}>\n\t    <div className=\"App\">\n\t      <header className=\"App-header\">\n\t        <Erddaps />\n\t      </header>\n\t    </div>\n    </MuiPickersUtilsProvider>\n    </Container>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n"],"sourceRoot":""}